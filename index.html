<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:image" content="./bandeja.png">
    <title>Call</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1>Call</h1>
        <form id="product-form">
            <div class="mb-3">
                <label for="productDescription" class="form-label">Data</label>
                <input type="date" class="form-control" name="hoje" id="hoje">
            </div>
            <div class="mb-3">
                <label for="productName" class="form-label">Técnico</label>
                <select name="tecnico" id="tecnico" class="form-control">
                    <option value="" hidden>Técnico</option>
                    <option value="">João</option>
                    <option value="">Maria</option>
                </select>
            </div>
            <div class="mb-3">
                <label for="productDescription" class="form-label">Saída</label>
                <input type="time" class="form-control" name="saida" id="saida">
            </div>
            <div class="mb-3">
                <label for="productDescription" class="form-label">Retorno</label>
                <input type="time" class="form-control" name="retorno" id="retorno">
            </div>
            <div class="mb-3">
                <label for="productDescription" class="form-label">Cliente</label>
                <input class="form-control" type="text" name="cliente" id="cliente">
            </div>
            <div class="mb-3">
                <label for="productDescription" class="form-label">Observação</label>
                <textarea class="form-control" name="observacao" id="observacao" cols="30" rows="7"></textarea>
            </div>
            <button type="submit" class="btn btn-primary">Salvar</button>
            <button type="button" class="btn btn-secondary" id="clear-form">Limpar</button>
        </form>
    </div>

    <!-- <div class="container mt-5">
        <h2>Lista de Produtos</h2>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Data</th>
                    <th>Técnico</th>
                    <th>Saída</th>
                    <th>Retorno</th>
                    <th>Cliente</th>
                    <th>Observação</th>
                </tr>
            </thead>
            <tbody id="product-list">
            </tbody>
        </table>
    </div> -->

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js"></script>
    <script>
        $(document).ready(function() {
            // FunÃ§Ã£o para adicionar um produto Ã  tabela
            function addProductToTable(hoje, tecnico, saida, retorno, cliente, observacao) {
                var row = '<tr>' +
                          '<td>' + hoje + '</td>' +
                          '<td>' + tecnico + '</td>' +
                          '<td>' + saida + '</td>' +
                          '<td>' + retorno + '</td>' +
                          '<td>' + cliente + '</td>' +
                          '<td>' + observacao + '</td>' +
                          '<td><button type="button" class="btn btn-warning btn-edit">Editar</button></td>' +
                          '</tr>';
                $('#product-list').append(row);
            }

            // FunÃ§Ã£o para limpar o formulÃ¡rio
            function clearForm() {
                document.getElementById('product-form').reset()
            }

            // Evento de envio do formulÃ¡rio
            $('#product-form').submit(function(event) {
                event.preventDefault();
                var hoje = $('#hoje').val();
                var tecnico = $('#tecnico').val();
                var saida = $('#saida').val();
                var retorno = $('#retorno').val();
                var cliente = $('#cliente').val();
                var observacao = $('#observacao').val();
                //addProductToTable(hoje, tecnico, saida, retorno, cliente, observacao);
                alert("Chamada Registrada!")
                clearForm();
            });

            // Evento de clique no botÃ£o "Limpar"
            $('#clear-form').click(function() {
                clearForm();
            });

            // Evento de clique no botÃ£o "Editar"
            $(document).on('click', '.btn-edit', function() {
                var row = $(this).closest('tr');
                var name = row.find('td:eq(0)').text();
                var price = row.find('td:eq(1)').text();
                var description = row.find('td:eq(2)').text();
                $('#productName').val(name);
                $('#productPrice').val(price);
                $('#productDescription').val(description);
                row.remove();
            });
        });
    </script>
</body>
</html>
